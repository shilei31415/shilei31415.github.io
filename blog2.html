<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--========== The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags ==========-->
    <title>AutoDrive</title>

    <!--==========Dependency============-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="vendors/owl-carousel/assets/owl.carousel.css">
    <link rel="stylesheet" href="vendors/magnific-popup/magnific-popup.css">
    <link rel="stylesheet" href="vendors/flexslider/flexslider.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit:500">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Sans:600,700italic">
    <link href='https://fonts.googleapis.com/css?family=Dosis:400,200,300,500,600,800,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli:400,300,300italic,400italic">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500italic,500,700italic,700,900,900italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Fredoka+One' rel='stylesheet' type='text/css'>

    <!--==========Theme Styles==========-->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/theme/green.css" rel="stylesheet">

    <!--========== HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries ==========-->
    <!--========== WARNING: Respond.js doesn't work if you view the page via file:// ==========-->
    <!--==========[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]==========-->
</head>
<style>
    .Black{
        background-color: green;
    }
</style>
<body>

<header class="row transparent white" data-spy="affix" data-offset-top="300" id="header">
    <div class="container">
        <div class="row top-header">
            <div class="col-sm-4 search-form-col">
                <form action="#" method="get" class="search-form">
                    <div class="input-group">
                        <img src="images/stone2.png" alt="">
                    </div>
                </form>
            </div>
            <div class="col-sm-4 logo-col text-center">
                <h3>3 Stones</h3>
            </div>
            <div class="col-sm-4 menu-trigger-col">
                <button class="menu-trigger black pull-right">
                    <span class="active-page">Blog Details</span>
                    <img src="images/menu-align-dark.png" alt="" class="icon-burger">
                    <img src="images/menu-close-dark.png" alt="" class="icon-cross">
                </button>
            </div>
        </div>
    </div>
    <div class="row menu-section">
        <div class="container">
            <div class="row">
                <div class="col-sm-8 menu-col">
                    <div class="row">
                        <ul class="nav column-menu white-bg">
                            <li class="active dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Home <span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="index2.html">2020-6月</a></li>
                                    <li><a href="index3.html">Home Option 3</a></li>
                                    <li><a href="index4.html">Home Option 4</a></li>
                                    <li><a href="index5.html">Home Option 5</a></li>
                                    <li><a href="index6.html">Home Option 6</a></li>
                                </ul>
                            </li>
                            <li><a href="resume.html">resume(个人简历)</a></li>
                            <li><a href="single.html">my memery(我的回忆)</a></li>
                            <li><a href="single2.html">my store(我的小店)</a></li>
                        </ul>
                        <ul class="nav column-menu white-bg">
                            <li><a href="single3.html">I'm reading(最近在读)</a></li>
                            <li><a href="single3.html">I'm doing(最近在做)</a></li>
                            <li><a href="https://github.com/shilei31415">github</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-4 subscribe-col">
                </div>
            </div>
        </div>
    </div>
</header>

<section class="row content-wrap">
    <div class="container">
        <div class="row">
            <div class="col-md-8 single-post-contents">
                <article class="single-post-content row m0 post">
                    <header class="row">
                        <h5 class="post-meta">
                            <a class="date">long long ago</a>
                            <span class="post-author"><i>by</i><a href="resume.html">施磊</a></span>
                        </h5>
                        <h2 class="post-title">回忆2019年江苏省机器人大赛中的"1:10无人车多车交互赛"</h2>
                        <div class="row">
                            <h5 class="taxonomy pull-left"><i>in</i> <a href="#">html</a></h5>
                        </div>
                    </header>
                    <div class="post-content row">
                        <h4>
                            2019年江苏省机器人大赛"1:10无人车多车交互赛", 我有幸带领我的小伙伴参加.
                            最近由在简历中提到, 写此篇,作为补充说明.
                        </h4>
                        <br>
                        <p>由于年代久远, 大部分图片资料已丢失, 本文大部分图片都来源于网络</p>
                        <h3>1. 规则</h3>
                        <p>详细规则有一大堆, 我便长话短说. "无人车" 这一比赛分为两个项目:</p>
                        <h4>项目一: 超车及会车</h4>
                        <p>在不违反交通规则的前提下, 超越前方龟速车, 进入逆向车道行驶, 遇到对向来车, 返回原车道</p>
                        <br>
                        <h4>项目二: 避障及斑马线前停车</h4>
                        <p>
                            在不违反交通规则的前提下, 遇到前方减速锥, 进入逆向车道行驶, 再次遇到前方减速锥,返回原车道;<br>
                            与减速标线, 及时减速, 并在斑马线前停车, 等待5S, 后继续行驶过终点
                        </p>
                        <br>
                        <h3>
                            2. 视觉处理
                        </h3>
                        <p>视觉处理, 其实就是: 读入图片, 到计算出当前车体状态的过程, 这是本篇的重点</p>
                        <h4>
                            2.1 开发环境
                        </h4>
                        <p>
                            系统环境ubuntu16.04<br>
                            使用CLion作为代码编写调试的平台<br>
                            调用opencv中的函数进行图像的处理 识别<br>
                            <div>
                                <img src="images/blog/autodrive_env.png" alt="loading picture" class="img-thumbnail">
                            </div>
                        </p>
                        <h4>
                            2.2 逆透视变换
                        </h4>
                        <p>
                            平直道路的道路标线相互平行, 永不相交, 但在人眼看来, 它们似乎都汇聚于一点, 这就是因为存在透视现象.
                            这种现象增加了计算车体姿态的难度, 所以从摄像头获取图像后, 我们进行了逆透视变换<br>
                            代码也不复杂, 仅仅调用了cv::warpPerspective(src, dst, warp_mat, size); 输入原图,目标图像和相应的变换矩阵即可.
                            矩阵可以事先测量, 因为它仅与摄像头参数, 姿态有关, 详细方法可以查看:<br>
                            <a href="https://blog.csdn.net/ganbelieve/article/details/91996326">https://blog.csdn.net/ganbelieve/article/details/91996326</a>
                            <div>
                                <img src="images/blog/change.gif" alt="loading picture" class="img-thumbnail">
                            </div>
                        </p>
                        <h4>
                            2.3 霍夫直线变换
                        </h4>
                        <p>
                            霍夫直线变换可以理解为将图像中点的坐标(x,y), 转换为ρ Θ空间中的一条曲线, 曲线上每一点(ρ,Θ)代表一条过(x, y)的直线,
                            该直线做垂线过原点, 垂线长度为ρ, 与坐标轴夹角为Θ. 当ρ Θ空间中两曲线相交于一点, 代表图像空间中的两点共线,
                            当ρ Θ空间中五百条曲线相交于一点, 代表图像空间中的五百个点共线, 即我们常说的直线段<br>
                            说白了,这就是用来找直线的, 具体变换可参考:<br>
                            <a href="https://blog.csdn.net/shenziheng1/article/details/75307410">https://blog.csdn.net/shenziheng1/article/details/75307410</a>
                            具体步骤如下:(相关图片没有保存)<br>
                            ①图线二值化, 突出道路标线(白)与路面(黑)<br>
                            ②Canny边缘检测, 可以理解为找出图片中像素值突变的区域(梯度大于阈值)<br>
                            ③将检测结果输入霍夫变换<br>
                        </p>
                        <div>
                            <img src="images/blog/autodrive_code.png" alt="loading picture" class="img-thumbnail">
                        </div>
                        <p>
                            实际使用过程中, 效果却并不理想, 对同一道路标线, 常常检测出多条相交的直线, 因此我们还对这些直线进行了筛选.
                            利用直线的ρ Θ值进行筛选,(图片很精彩,可惜没了) 找到最佳的两条, 求取平均, 得到最终的直线, 该直线的Θ表示了
                            车体与目标方向的偏离程度, ρ表示了车体是靠近左标线还是靠近右标线
                        </p>
                        <h4>
                            2.4 斑马线及停车线检测
                        </h4>
                        <p>
                            起初打算想道路标线检测一样, 使用霍夫直线检测, 判断前方是否有斑马线或停车线, 但效果不理想, 后尝试使用SVM, 判断图中是否有斑马线,
                            结果SVM受环境影响较大.<br>
                            最后决定使用最简单的方法: 计算图片中白色区域的面积<br>
                            在正常道路上行驶, 只有两侧标线为白色, 白色较少, 当出现停车线及斑马线时, 白色区域增多, 同时为了避免环境亮度干扰, 以图像平均亮度作为二值化的阈值.
                            这种方法简单粗暴, 但却很有效.
                        </p>
                        <h4>
                            2.5 回想
                        </h4>
                        <p>
                            现在回想起来, 当时的我真是又笨又勤奋, 现在我会使用神经网络, 输入图像, 输出控制车体的指令, 然后用遥控器训练它一周, 肯定跑的飞快
                        </p>
                        <br>
                        <h3>
                            3. 避障
                        </h3>
                        <h4>使用激光雷达进行障碍物的检测, 该部分有我的小伙伴"王海龙"实现, 在此进行简述</h4>
                        <p>激光雷达的原理是, 发出一束激光, 并接受其反射信号, 计算二者时间差, 测出距离,
                            如果我有无数个这样的装置, 对空间任意方向进行测量, 我就可以得到一个所在空间的不完整模型(可能有遮挡).
                            现实中不可能使用那么多的激光发射器和激光传感器, 我们就让单个或多个激光发射器和激光传感器旋转起来,
                            "扫描"指定空间.
                        </p>
                        <p>
                            我们使用三杉的单线激光雷达, 测量距地面3cm高处的, 障碍物, 激光雷达用串口将扫描数据发送至电脑,
                            通过筛选特定角度区域中, 距离小于阈值的点, 判断前方是否有障碍物. 例如, 前方-30至30°范围内,
                            距离小于0.4m的点有20个, 我便认为前方出现障碍物, 并决定变道
                        </p>
                        <br>
                        <h3>
                            4. 串口通信
                        </h3>
                        <h4>
                            串口接入ubuntu后, ubuntu自动给他分配一个"编号", 如"ttyUSB0";
                            我们通过串口控制底盘运动, 由于激光雷达和底盘控制都需要串口, 导致这一编号混乱,
                            我们难以教会电脑:"是ttyUSB0代表雷达,还是ttyUSB1代表雷达"</h4>
                        <p>
                            我们通过"串口绑定"解决这一问题.
                        </p>
                        <h3>
                            5. 代码
                        </h3>
                        <p>
                            具体代码参考我的<a href="https://github.com/shilei31415/AutoDrive">github</a>
                        </p>
                        <h3>
                            6. 参赛视频
                        </h3>
                        <p>
                            最后给大家献上参赛视频<br>
                            <a href="https://www.bilibili.com/video/BV1iV411k7Eg?from=search&seid=6004852311073970695"><img src="images/blog/bilibili.png"></a>
                        </p>
                    </div>
                </article>
            </div>

            <!--Author Widget-->
            <div class="col-md-4 sidebar">
                <aside class="row m0 widget-author widget">
                    <div class="widget-author-inner row">
                        <div class="author-avatar row"><a href="#"><img src="images/author.jpg" alt="" class="img-circle"></a></div>
                        <a href="#"><h2 class="author-name">施磊</h2></a>
                        <h5 class="author-title">不想当将军的马夫,不是好厨子</h5>
                        <p>截至6月10日,我的github博客,基本建立完成.发此篇简述建立过程,供大家学习</p>
                        <a href="resume.html" class="taxonomy" style="font-size: 15pt">resume</a>
                    </div>
                </aside>
            </div>
        </div>
    </div>
</section>

<!--Footer-->
<footer class="row" id="footer">
    <div class="container">
        <div class="row top-footer">
            <div class="widget col-sm-3 widget-about" >
                <h3>3 Stones</h3>
            </div>
            <div class="widget col-sm-5 widget-menu">
                <div class="row">
                    <ul class="nav column-menu white-bg">
                        <li class="active"><a href="index.html">Home</a></li>
                        <li><a href="resume.html">resume</a></li>
                        <li><a href="single.html">my memery</a></li>
                        <li><a href="single2.html">my store</a></li>
                    </ul>
                    <ul class="nav column-menu white-bg">
                        <li><a href="single3.html">I'm reading</a></li>
                        <li><a href="single3.html">I'm doing</a></li>
                        <li><a href="https://github.com/shilei31415">github</a></li>
                    </ul>
                </div>
            </div>
            <div class="widget col-sm-4 widget-subscribe">

            </div>
        </div>
        <h5 class="copyright">Thanks for <a target="_blank" href="http://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a></h5>
    </div>
</footer>

<!--========== jQuery (necessary for Bootstrap's JavaScript plugins) ==========-->
<script src="js/jquery-2.2.0.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="vendors/owl-carousel/owl.carousel.min.js"></script>
<script src="vendors/magnific-popup/jquery.magnific-popup.min.js"></script>
<script src="vendors/instafeed/instafeed.min.js"></script>
<script src="vendors/imagesLoaded/imagesloaded.pkgd.min.js"></script>
<script src="vendors/isotope/isotope.pkgd.min.js"></script>
<script src="vendors/flexslider/jquery.flexslider-min.js"></script>
<script src="js/theme.js"></script>
</body>
</html>
